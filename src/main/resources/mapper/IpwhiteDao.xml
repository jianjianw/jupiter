<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qiein.jupiter.web.dao.IpwhiteDao">
	<sql id="forinsert">
		ip,
		creatoerId,
		creatoerName,
		createTime,
		companyId,
		memo
	
	</sql>
	<insert id="insert" parameterType="com.qiein.jupiter.web.entity.po.IpWhitePO">
	insert into hm_pub_ip_white(<include refid="forinsert"></include>) values(#{ip},#{creatoerId},#{creatoerName},#{createTime},#{companyId},#{memo}) 
	
	</insert>
   	
   	<update id="update" parameterType="com.qiein.jupiter.web.entity.po.IpWhitePO">
   	update hm_pub_ip_white set ip=#{ip},memo=#{memo} where id=#{id}
   	</update>
   	
   	<delete id="delete" parameterType="Integer">
   	delete from hm_pub_ip_white where id=#{0}
   	</delete>
   	
   	<select id="get_all_ip_by_companyId" parameterType="Integer" resultType="com.qiein.jupiter.web.entity.po.IpWhitePO">
   	SELECT
		a.id id,
		a.IP ip,
		a.CREATETIME createTime,
		a.MEMO memo,
		b.COMPANYNAME companyName,
		a.companyId companyId
	FROM
		hm_pub_ip_white a
	LEFT JOIN hm_pub_company b ON a.COMPANYID = b.ID
		WHERE
	COMPANYID =#{0}
   	</select>
</mapper>